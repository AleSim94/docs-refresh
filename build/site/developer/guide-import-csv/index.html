<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Importing CSV Data into Neo4j :: Neo4j Developer Portal</title>
    <meta name="generator" content="Antora 2.3.3">
    <link rel="stylesheet" href="../../_/css/site.css">
  </head>
  <body class="article developer">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="/developer">
        <svg width="97px" height="36px" viewBox="0 0 97 36" version="1.1" xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink" class="logo">
          <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
            <g transform="translate(0.000000, 1.000000)" fill-rule="nonzero">
              <g>
                <path
                  d="M28.7331787,15.4086598 C28.7331787,23.4004124 22.3016241,29.8779381 14.3665893,29.8779381 C6.43155452,29.8779381 0,23.4004124 0,15.4086598 C0,7.41690722 6.43155452,0.939375765 14.3665893,0.939375765 C22.3016241,0.932371134 28.7331787,7.41690722 28.7331787,15.4086598"
                  fill="#008CC1"></path>
                <path
                  d="M6.36890951,10.6626804 C6.36890951,11.3006186 5.85382831,11.8193814 5.22041763,11.8193814 C4.58700696,11.8193814 4.07192575,11.3006186 4.07192575,10.6626804 C4.07192575,10.0247423 4.58700696,9.50597938 5.22041763,9.50597938 C5.86078886,9.50597938 6.36890951,10.0247423 6.36890951,10.6626804"
                  fill="#FFFFFF"></path>
                <path
                  d="M6.5638051,13.8383505 C6.5638051,14.4762887 6.0487239,14.9950515 5.41531323,14.9950515 C4.78190255,14.9950515 4.26682135,14.4762887 4.26682135,13.8383505 C4.26682135,13.2004124 4.78190255,12.6816495 5.41531323,12.6816495 C6.0487239,12.6816495 6.5638051,13.1934021 6.5638051,13.8383505"
                  fill="#FFFFFF"></path>
                <path
                  d="M7.26682135,17.203299 C7.26682135,17.8412371 6.75174014,18.36 6.11832947,18.36 C5.48491879,18.36 4.96983759,17.8412371 4.96983759,17.203299 C4.96983759,16.5653608 5.48491879,16.0465979 6.11832947,16.0465979 C6.75174014,16.0395876 7.26682135,16.5583505 7.26682135,17.203299"
                  fill="#FFFFFF"></path>
                <path
                  d="M8.83990719,20.217732 C8.83990719,20.8556701 8.32482599,21.374433 7.69141531,21.374433 C7.05800464,21.374433 6.54292343,20.8556701 6.54292343,20.217732 C6.54292343,19.5797938 7.05800464,19.0610309 7.69141531,19.0610309 C8.32482599,19.0540206 8.83990719,19.5727835 8.83990719,20.217732"
                  fill="#FFFFFF"></path>
                <path
                  d="M21.1392111,24.4309278 C21.1392111,25.068866 20.6241299,25.5876289 19.9907193,25.5876289 C19.3573086,25.5876289 18.8422274,25.068866 18.8422274,24.4309278 C18.8422274,23.7929897 19.3573086,23.2742268 19.9907193,23.2742268 C20.6241299,23.2742268 21.1392111,23.7929897 21.1392111,24.4309278"
                  fill="#FFFFFF"></path>
                <path
                  d="M23.2273782,21.942268 C23.2273782,22.5802062 22.712297,23.0989691 22.0788863,23.0989691 C21.4454756,23.0989691 20.9303944,22.5802062 20.9303944,21.942268 C20.9303944,21.3043299 21.4454756,20.785567 22.0788863,20.785567 C22.712297,20.785567 23.2273782,21.3043299 23.2273782,21.942268"
                  fill="#FFFFFF"></path>
                <path
                  d="M17.1716937,4.34639175 C17.1716937,4.9843299 16.6566125,5.50309278 16.0232019,5.50309278 C15.3897912,5.50309278 14.87471,4.9843299 14.87471,4.34639175 C14.87471,3.70845361 15.3897912,3.18969072 16.0232019,3.18969072 C16.6566125,3.18969072 17.1716937,3.70845361 17.1716937,4.34639175"
                  fill="#FFFFFF"></path>
                <path
                  d="M14.1508121,3.28082474 C14.1508121,3.91876289 13.6357309,4.43752577 13.0023202,4.43752577 C12.3689095,4.43752577 11.8538283,3.91876289 11.8538283,3.28082474 C11.8538283,2.6428866 12.3689095,2.12412371 13.0023202,2.12412371 C13.6357309,2.12412371 14.1508121,2.6428866 14.1508121,3.28082474"
                  fill="#FFFFFF"></path>
                <ellipse id="Oval" stroke="#FFFFFF" fill="#66B245" cx="22.2946636" cy="11.9595876" rx="7.65661253"
                  ry="7.71134021"></ellipse>
                <ellipse id="Oval" stroke="#FFFFFF" fill="#66B245" cx="11.8051044" cy="27.6837113" rx="6.26450116"
                  ry="6.30927835"></ellipse>
                <ellipse id="Oval" stroke="#FFFFFF" fill="#66B245" cx="6.64733179" cy="4.20618557" rx="4.17633411"
                  ry="4.20618557"></ellipse>
              </g>
              <g id="neo4j" transform="translate(33.000000, 1.000000)" fill="#000000">
                <path
                  d="M0,4.87252125 L1.39130435,4.87252125 L1.39130435,7.6203966 C2.05913043,5.9490085 3.45043478,4.64589235 6.28869565,4.64589235 C9.51652174,4.64589235 11.6869565,6.85552408 11.6869565,10.3399433 L11.6869565,19.1501416 L10.2956522,19.1501416 L10.2956522,10.6232295 C10.2956522,7.76203966 8.57043478,5.97733711 5.9826087,5.97733711 C3.17217391,5.97733711 1.39130435,8.18696884 1.39130435,11.4730878 L1.39130435,19.1501416 L0,19.1501416 L0,4.87252125 Z">
                </path>
                <path
                  d="M14.1634783,12.0396601 C14.1634783,7.59206799 17.1408696,4.5325779 21.0086957,4.5325779 C24.8208696,4.5325779 27.52,7.73371105 27.52,11.6430595 C27.52,11.6430595 27.52,12.0679887 27.4921739,12.3512748 L15.5269565,12.3512748 C15.6104348,15.7790368 17.8643478,18.2152975 21.0643478,18.2152975 C23.68,18.2152975 25.4886957,17.082153 26.3234783,16.0056657 L26.3234783,17.6770538 C25.0156522,18.8668555 23.4295652,19.5467422 21.0643478,19.5467422 C17.0295652,19.5467422 14.1634783,16.5439093 14.1634783,12.1246459 L14.1634783,12.0396601 Z M26.0452174,11.0764873 C26.0173913,8.15864023 23.7913043,5.86402266 21.0086957,5.86402266 C18.0869565,5.86402266 15.693913,8.15864023 15.5826087,11.0764873 L26.0452174,11.0764873 Z">
                </path>
                <path
                  d="M37.0643478,4.50424929 C41.1826087,4.50424929 44.4382609,7.70538244 44.4382609,12.0113314 C44.4382609,16.3172805 41.1826087,19.5184136 37.0643478,19.5184136 C32.946087,19.5184136 29.6904348,16.3172805 29.6904348,12.0113314 C29.6904348,7.70538244 32.946087,4.50424929 37.0643478,4.50424929 Z M37.0643478,18.1869688 C40.4869565,18.1869688 43.0469565,15.5240793 43.0469565,12.0113314 C43.0469565,8.49858357 40.4869565,5.83569405 37.0643478,5.83569405 C33.6417391,5.83569405 31.0817391,8.49858357 31.0817391,12.0113314 C31.0817391,15.5240793 33.6417391,18.1869688 37.0643478,18.1869688 Z">
                </path>
                <polygon
                  points="51.7843478 4.87252125 53.3426087 4.87252125 47.3878261 17.7903683 56.0417391 17.7903683 56.0417391 13.1161473 57.4886957 13.1161473 57.4886957 24.6175637 56.0417391 24.6175637 56.0417391 19.1501416 45.1895652 19.1501416">
                </polygon>
                <path
                  d="M62.2469565,4.87252125 L63.6382609,4.87252125 L63.6382609,21.1331445 C63.6382609,24.3342776 61.8295652,24.9858357 60.0765217,24.9858357 C59.7426087,24.9858357 59.3808696,24.9575071 59.1582609,24.9008499 L59.1582609,23.5694051 C59.4921739,23.6260623 59.8817391,23.6543909 60.2156522,23.6543909 C61.6347826,23.6543909 62.2469565,22.9461756 62.2469565,21.1331445 L62.2469565,4.87252125 Z M61.9408696,1.04815864 C61.9408696,0.45325779 62.413913,0.0283286119 62.9426087,0.0283286119 C63.4713043,0.0283286119 63.9443478,0.45325779 63.9443478,1.04815864 C63.9443478,1.61473088 63.4713043,2.03966006 62.9426087,2.03966006 C62.413913,2.03966006 61.9408696,1.61473088 61.9408696,1.04815864 Z">
                </path>
              </g>
            </g>
          </g>
        </svg>

        <svg width="131px" height="34px" viewBox="0 0 131 34" version="1.1">
          <path
            d="M11.112,20.364 C13.996,20.364 16.124,18.768 16.712,17.06 L16.712,20 L18.112,20 L18.112,0.484 L16.712,0.484 L16.712,8.828 C16.124,7.12 13.996,5.524 11.112,5.524 C7.164,5.524 4,8.688 4,12.944 C4,17.2 7.136,20.364 11.112,20.364 Z M11.112,19.048 C7.864,19.048 5.4,16.416 5.4,12.944 C5.4,9.5 7.864,6.84 11.112,6.84 C14.388,6.84 16.88,9.388 16.88,12.944 C16.88,16.5 14.388,19.048 11.112,19.048 Z M26.876,20.336 C28.864,20.336 30.824,19.692 32.42,17.872 L31.496,16.976 C30.292,18.236 28.92,19.02 26.876,19.02 C23.656,19.02 21.388,16.668 21.304,13.28 L33.344,13.28 C33.372,13 33.372,12.58 33.372,12.58 C33.372,8.688 30.656,5.524 26.82,5.524 C22.928,5.524 19.932,8.576 19.932,12.972 L19.932,13.056 C19.932,17.368 22.844,20.336 26.876,20.336 Z M31.916,12.02 L21.36,12.02 C21.472,9.108 23.852,6.84 26.82,6.84 C29.648,6.84 31.888,9.136 31.916,12.02 Z M40.624,20.728 L47.204,5.888 L45.692,5.888 L40.624,17.452 L35.612,5.888 L34.1,5.888 L40.624,20.728 Z M54.904,20.336 C56.892,20.336 58.852,19.692 60.448,17.872 L59.524,16.976 C58.32,18.236 56.948,19.02 54.904,19.02 C51.684,19.02 49.416,16.668 49.332,13.28 L61.372,13.28 C61.4,13 61.4,12.58 61.4,12.58 C61.4,8.688 58.684,5.524 54.848,5.524 C50.956,5.524 47.96,8.576 47.96,12.972 L47.96,13.056 C47.96,17.368 50.872,20.336 54.904,20.336 Z M59.944,12.02 L49.388,12.02 C49.5,9.108 51.88,6.84 54.848,6.84 C57.676,6.84 59.916,9.136 59.944,12.02 Z M67.672,20.364 C68.092,20.364 68.484,20.308 68.848,20.224 L68.848,18.936 C68.484,19.02 68.092,19.048 67.672,19.048 C66.188,19.048 65.572,18.208 65.572,16.36 L65.572,0.484 L64.172,0.484 L64.172,16.444 C64.172,19.692 65.964,20.364 67.672,20.364 Z M77.22,20.364 C81.364,20.364 84.64,17.2 84.64,12.944 C84.64,8.688 81.364,5.524 77.22,5.524 C73.076,5.524 69.8,8.688 69.8,12.944 C69.8,17.2 73.076,20.364 77.22,20.364 Z M77.22,19.048 C73.776,19.048 71.2,16.416 71.2,12.944 C71.2,9.472 73.776,6.84 77.22,6.84 C80.664,6.84 83.24,9.472 83.24,12.944 C83.24,16.416 80.664,19.048 77.22,19.048 Z M88.812,25.404 L88.812,17.06 C89.4,18.768 91.528,20.364 94.412,20.364 C98.36,20.364 101.524,17.2 101.524,12.944 C101.524,8.688 98.388,5.524 94.412,5.524 C91.528,5.524 89.4,7.12 88.812,8.828 L88.812,5.888 L87.412,5.888 L87.412,25.404 L88.812,25.404 Z M94.412,19.048 C91.136,19.048 88.644,16.5 88.644,12.944 C88.644,9.388 91.136,6.84 94.412,6.84 C97.66,6.84 100.124,9.472 100.124,12.944 C100.124,16.388 97.66,19.048 94.412,19.048 Z M110.652,20.336 C112.64,20.336 114.6,19.692 116.196,17.872 L115.272,16.976 C114.068,18.236 112.696,19.02 110.652,19.02 C107.432,19.02 105.164,16.668 105.08,13.28 L117.12,13.28 C117.148,13 117.148,12.58 117.148,12.58 C117.148,8.688 114.432,5.524 110.596,5.524 C106.704,5.524 103.708,8.576 103.708,12.972 L103.708,13.056 C103.708,17.368 106.62,20.336 110.652,20.336 Z M115.692,12.02 L105.136,12.02 C105.248,9.108 107.628,6.84 110.596,6.84 C113.424,6.84 115.664,9.136 115.692,12.02 Z M121.292,20 L121.292,12.272 C121.292,9.472 122.776,7.092 125.856,7.092 C126.192,7.092 126.584,7.12 126.752,7.148 L126.752,5.692 C126.556,5.664 126.276,5.664 126.08,5.664 C123.308,5.664 121.88,7.008 121.292,8.716 L121.292,5.888 L119.892,5.888 L119.892,20 L121.292,20 Z"
            id="developer"></path>
        </svg>
              </a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">

        <div class="navbar-item is-hoverable developer">
          <a class="navbar-link" href="/developer">Developer Guides</a>
        </div>
        <div class="navbar-item has-dropdown is-hoverable docs">
          <a class="navbar-link" href="/docs">Docs</a>
          <div class="navbar-dropdown">
            <div class="navbar-item project" href="">
              <a class="project-name" href="">Operations Manual</a>

              <ul class="project-links">
                <li><a href="" class="project-link">Migration Guide</a></li>
                <li><a href="" class="project-link">Status Codes</a></li>
              </ul>
            </div>
            <div class="navbar-item project" href="">
              <a class="project-name" href="">Cypher Manual</a>

              <ul class="project-links">
                <li><a href="" class="project-link">Cyper Refcard</a></li>
              </ul>
            </div>
            <div class="navbar-item project" href="">
              <a class="project-name" href="">Driver Manual</a>

              <ul class="project-links">
                <li><a href="" class="project-link">Java</a></li>
                <li><a href="" class="project-link">JavaScript</a></li>
                <li><a href="" class="project-link">.NET</a></li>
                <li><a href="" class="project-link">Python</a></li>
              </ul>
            </div>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable labs">
          <a class="navbar-link" href="/labs">Labs</a>
          <div class="navbar-dropdown">
            <div class="navbar-item project">
              <a class="project-name" href="/labs/apoc">APOC</a>
              <p class="project-description">A library of procedures and functions for interacting with Neo4j</p>

              <ul class="project-links">
                <li><a href="/labs/apoc/docs/current" class="project-link">Documentation</a></li>
                <li><a href="/labs/apoc/" class="project-link">Developer Guide</a></li>
              </ul>
            </div>
            <div class="navbar-item project">
              <a class="project-name" href="/labs/streams">Neo4j Streams</a>
              <p class="project-description">Integration for Neo4j &amp; Kafka</p>

              <ul class="project-links">
                <li><a href="/labs/streams/docs/current" class="project-link">Documentation</a></li>
                <li><a href="/labs/streams" class="project-link">Developer Guide</a></li>
              </ul>
            </div>
            <div class="navbar-item project">
              <a class="project-name" href="/labs/neosemantics">neosemantics</a>
              <p class="project-description">An RDF Toolkit for Neo4j</p>

              <ul class="project-links">
                <li><a href="/labs/neosemantics/docs/current" class="project-link">Documentation</a></li>
                <li><a href="/labs/neosemantics" class="project-link">Developer Guide</a></li>
              </ul>
            </div>
          </div>
        </div>
        <div class="navbar-item">
          <svg width="23px" height="23px" viewBox="0 0 23 23" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="fill-current float-right">
            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round">
              <g transform="translate(-2.000000, -2.000000)" stroke="#a0aec0" stroke-width="1.5">
                    <circle id="Oval" transform="translate(11.389364, 11.388564) rotate(-23.025000) translate(-11.389364, -11.388564) " cx="11.3893642" cy="11.3885639" r="8.056"></circle>
                    <path d="M17.0853333,17.0844444 L23.3333333,23.3333333" id="Shape"></path>
              </g>
            </g>
          </svg>
        </div>
      </div>
    </div>
  </nav>
</header><div class="body">
<div class="nav-container" data-component="developer" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../">Developer Guides</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-text nav-item-toggle">Neo4j Graph Platform</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../graph-platform/">Graph Platform Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../neo4j-desktop/">Neo4j Desktop Intro</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../neo4j-browser/">Neo4j Browser Intro</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../neo4j-bloom/">Neo4j Bloom Intro</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../neo4j-etl/">How-To: Neo4j ETL Tool</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../neo4j-apoc/">Neo4j APOC Library</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../graph-algorithms/">Neo4j Graph Algorithms</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../graphql/">Neo4j &amp; GraphQL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../neo4j-nlp/">Neo4j Natural Language Processing (NLP)</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text nav-item-toggle">Cypher Query Language</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#cypher-query-language.adoc">Cypher Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cypher-basics-i/">Cypher Basics I</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cypher-basics-ii/">Cypher Basics II</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../filtering-query-results/">Filtering Query Results</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../sub-queries/">Sub Queries</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../aggregation-returns-functions/">Aggregation, Returns, &amp; Functions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cypher-style-guide/">Cypher Style Guide</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../guide-sql-to-cypher/">From SQL to Cypher</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../procedures-functions/">User Defined Procedures &amp; Functions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../dates-datetimes-durations/">Tutorial: Dates, Datetimes, and Durations</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../guide-build-a-recommendation-engine/">Tutorial: Build a Recommendation Engine</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cypher-resources/">Cypher Resources</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text nav-item-toggle">Graph Data Modeling</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Graph Modeling Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Graph Modeling Guidelines</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Modeling: RDBMS to Graph</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Modeling Designs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Graph Modeling Tips</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Tutorial: Refactoring a graph model</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Interactive Graph Models</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text nav-item-toggle">Data Import</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Import Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Importing CSV</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Importing API Data</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Import: RDBMS to Graph</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Example: Northwind Dataset</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">How-To: Desktop CSV Import</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Example Datasets</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text nav-item-toggle">Graph Visualization</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Visualization Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Visualization Tools</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Other Visualizations</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text nav-item-toggle">Drivers &amp; Language Guides</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Drivers Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Java</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Java Driver Spring Boot Starter</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Neo4j Object Graph Mapper</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Spring Data Neo4j</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Spring Data Neo4j RX</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Procedures and Functions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Third-party libraries</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">.NET</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">JavaScript</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Python</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Go</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Ruby</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">PHP</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Erlang &amp; Elixir</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Perl</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text nav-item-toggle">Neo4j Tools &amp; Integrations</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Integrations Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Apache Spark</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Elastic-Search</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">MongoDB</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Cassandra</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text nav-item-toggle">Neo4j Aura DBaaS</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Aura DBaaS Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Connect from Neo4j Desktop</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Connect from Cypher Shell</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Connect from your application</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Data Import with Neo4j Aura</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Deploying a GRANDstack application to Aura</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Bloom Visualization with Aura</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Monitoring</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text nav-item-toggle">Graph Apps</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Graph Apps Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Building Graph Apps</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text nav-item-toggle">Neo4j Administration</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Administration Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Tutorial: Managing Multiple Databases</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Tutorial: Multi Tenancy Worked Example</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Sharding Graphs with Fabric</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Clustering Neo4j</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Performance Tuning</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Docker &amp; Neo4j</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">How-To: Run Neo4j in Docker</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Startups: Free Neo4j Enterprise</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Online Course: Neo4j Administration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text nav-item-toggle">Neo4j in the Cloud</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Cloud Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Orchestration Tools</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text nav-item-toggle">Documentation &amp; Resources</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Resource Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Learn through GraphAcademy</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Tutorial: Create Custom Browser Guide</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">How-To: Build with Ruby &amp; Neo4j</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Available Neo4j Browser Guides</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Neo4j Documentation</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text nav-item-toggle">Contributing to Neo4j</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Contributing Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Contributor License Agreement</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Code Contributions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#xxx">Help on Community Forums</a>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text nav-item-toggle">xref:xxx[Speaker Program: Share your Story</span>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../get-started/">Getting Started with Neo4j</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../get-started/">Getting Started with Neo4j</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../get-started/graph-database/">What is a Graph Database?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#intro-videos.adoc">Intro to Graph DBs Video Series</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../get-started/graph-db-vs-rdbms/">Concepts: RDBMS to Graph</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../get-started/graph-db-vs-nosql/">Concepts: NoSQL to Graph</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#getting-started-resources.adoc">Getting Started Resources</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../">Developer Guides</a></li>
    <li><a href="./">Importing CSV Data into Neo4j</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="file:///Users/adam/projects/docs/asciidoc/developer/modules/ROOT/pages/guide-import-csv.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<article class="doc">
<h1 class="page">Importing CSV Data into Neo4j</h1>
<div id="toc" class="toc">
<div id="toctitle">Contents</div>
<ul class="sectlevel1">
<li><a href="#_ways_to_import_csv_files">Ways to Import CSV Files</a></li>
<li><a href="#import-load-csv">LOAD CSV command with Cypher</a></li>
<li><a href="#batch-importer">Bulk Importer For Large Datasets</a></li>
<li><a href="#data-load-quality">CSV Data Quality</a></li>
<li><a href="#import-csv-resources">CSV Import Resources</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="quoteblock abstract">
<div class="title">Goals</div>
<blockquote>
This article demonstrates different approaches to importing CSV data into Neo4j and solutions to potential issues that might arise during the process.
</blockquote>
</div>
<div class="quoteblock abstract">
<div class="title">Prerequisites</div>
<blockquote>
Before importing data, you should be familiar with what a <a href="/developer/graph-database/">graph database</a> is, how to construct a <a href="/developer/guide-data-modeling/">property graph data model</a>, and some basics of the <a href="/developer/cypher">Cypher query language</a>.
All of these skills are a part of the data import process.
</blockquote>
</div>
<div class="paragraph expertise">
<p>Intermediate</p>
</div>
<div class="paragraph">
<p>CSV is a file of comma-separated values, often viewed in Excel or some other spreadsheet tool.
There can be other types of values as the delimiter, but the most standard is the comma.
Many systems and processes today already convert their data into CSV format for file outputs to other systems, human-friendly reports, and other needs.
It is a standard file format that humans and systems are already familiar with using and handling.</p>
</div>
<div class="paragraph">
<p>Giving Neo4j the ability to read and load a CSV file helps reduces the friction of getting data from various formats and systems into Neo4j.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ways_to_import_csv_files"><a class="anchor" href="#_ways_to_import_csv_files"></a>Ways to Import CSV Files</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are a few different approaches to get CSV data into Neo4j, each with varying criteria and functionality.
The option you choose will depend on the data set size, as well as your degree of comfort with various tools.</p>
</div>
<div class="paragraph">
<p>Let us see some of the ways Neo4j can read and import CSV files.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>LOAD CSV</code> Cypher command: this command is a great starting point and handles small- to medium-sized data sets (up to 10 million records).</p>
</li>
<li>
<p><code>neo4j-admin</code> bulk import tool: command line tool useful for straightforward loading of large data sets.</p>
</li>
<li>
<p>Kettle import tool: maps and executes steps for the data process flow and works well for very large data sets, especially if developers are already familiar with using this tool.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>We will take a brief view of each one of these tools, how they operate, and how to get started with a general use case.
More documentation and information for each will also be included for help on more complex scenarios.
Data quality can also be an issue for any type of data import to any system, so we will cover a few of these potential difficulties and how to solve them.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="import-load-csv"><a class="anchor" href="#import-load-csv"></a>LOAD CSV command with Cypher</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>LOAD CSV</code> clause is part of the Cypher query language.
Our <a href="/docs/cypher-manual/current/" target="_blank" rel="noopener">Cypher manual</a> contains a page devoted to its usage, and a variety of Neo4j&#8217;s blogs, videos, solutions, and other material utilizes this command.
It is simple to use and widely applicable.
<code>LOAD CSV</code> is not just your basic data ingestion mechanism because it combines multiple aspects into a single operation.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Supports loading / ingesting CSV data from an URI</p>
</li>
<li>
<p>Directly maps input data into complex graph/domain structure</p>
</li>
<li>
<p>Handles data conversion</p>
</li>
<li>
<p>Supports complex computations</p>
</li>
<li>
<p>Creates or merges entities, relationships, and structure</p>
</li>
</ul>
</div>
<div class="openblock">
<div class="content">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For better control, you can run <code>LOAD CSV</code> commands with <code>cypher-shell</code> instead of in the browser.
More information is in the manual page on <a href="/docs/operations-manual/3.5/tools/cypher-shell/" target="_blank" rel="noopener">Cypher shell</a>.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_reading_csv_files"><a class="anchor" href="#_reading_csv_files"></a>Reading CSV Files</h3>
<div class="paragraph">
<p><code>LOAD CSV</code> can handle local and remote files, and there is some syntax associated with each.
This can be an easy thing to miss and end up with an access error, so we will try to clarify the rules here.</p>
</div>
<div class="paragraph">
<p><strong>Local files</strong> are referenced with a <code><a href="file:///" class="bare">file:///</a></code> prefix before the file name.
Neo4j security has a default setting that local files can only be read from the Neo4j import directory, which is different based on your operating system.
File locations for each OS are listed in our {opsmanual}/configuration/file-locations[Neo4j Operations Manual^].
We recommend putting files in Neo4j&#8217;s <em>import</em> directory, as it keeps the environment secure.
However, if you need to access files in other locations, you can find out which setting to alter in our <a href="/docs/cypher-manual/current/clauses/load-csv/#query-load-csv-introduction" target="_blank" rel="noopener">manual</a>.</p>
</div>
<div class="listingblock">
<div class="title">Examples</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">//Example 1 - file directly placed in import directory (import/data.csv)
LOAD CSV FROM "file:///data.csv"

//Example 2 - file placed in subdirectory within import directory (import/northwind/customers.csv)
LOAD CSV FROM "file:///northwind/customers.csv"</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Web-hosted files</strong> can be referenced directly with their URL, like <code>https://host/path/data.csv</code>.
However, permissions must be set so that an external source can read the file.
For more information about access related to online file imports, see this <a href="/developer/kb/import-csv-locations/" target="_blank" rel="noopener">knowledge base article</a>.</p>
</div>
<div class="listingblock">
<div class="title">Examples</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">//Example 1 - website
LOAD CSV FROM 'https://neo4j.com/docs/cypher-manual/3.5/csv/artists.csv'

//Example 2 - Google
LOAD CSV WITH HEADERS FROM 'https://docs.google.com/spreadsheets/d/&lt;yourFilePath&gt;'</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_important_tips_for_load_csv"><a class="anchor" href="#_important_tips_for_load_csv"></a>Important Tips for LOAD CSV</h3>
<div class="paragraph">
<p>There are a few things to keep in mind with <code>LOAD CSV</code> and a few helpful tips for handling the variety of data scenarios you are likely to encounter.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Newer versions of Neo4j will most likely be faster due to continued optimization.</p>
</li>
<li>
<p>All data from the CSV file is read as a string, so you need to use <code>toInteger()</code>, <code>toFloat()</code>, <code>split()</code> or similar functions to convert values.</p>
</li>
<li>
<p>Check your Cypher import statement for typos. Labels, property names, relationship-types, and variables are <strong>case-sensitive</strong>.</p>
</li>
<li>
<p>The cleaner the data, the easier the load. Try to handle complex cleanup/manipulation before load.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_converting_data_values_with_load_csv"><a class="anchor" href="#_converting_data_values_with_load_csv"></a>Converting Data Values with LOAD CSV</h3>
<div class="paragraph">
<p>Cypher has some scrubbing and conversion capabilities to help with data cleanup.
These are extremely useful for handling missing data or splitting a field into multiple values for the graph.</p>
</div>
<div class="paragraph">
<p>First, remember that Neo4j does not store null values.
Null or empty fields in a CSV files can be skipped or replaced with default values in <code>LOAD CSV</code>.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">//skip null values
LOAD CSV WITH HEADERS FROM 'file:///data.csv' AS row
WITH row WHERE row.Company IS NOT NULL
MERGE (c:Company {companyId: row.Id})

//set default for null values
LOAD CSV WITH HEADERS FROM 'file:///data.csv' AS row
MERGE (c:Company {companyId: row.Id, hqLocation: coalesce(row.Location, "Unknown")})

//change empty strings to null values (not stored)
LOAD CSV WITH HEADERS FROM 'file:///data.csv' AS row
MERGE (c:Company {companyId: row.Id})
SET c.emailAddress = CASE trim(row.Email) WHEN "" THEN null ELSE row.Email END</code></pre>
</div>
</div>
<div class="paragraph">
<p>Next, if you have a field in the CSV that is a list of items that you want to split, you can use the Cypher <code>split()</code> function to separate arrays in a cell.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">//split string of employee skills into separate nodes
LOAD CSV FROM 'file:///data.csv' AS row
MERGE (e:Employee {employeeId: row.Id})
UNWIND split(row.skills, ',') AS skill
MERGE (s:Skill {name: skill})
MERGE (e)-[r:HAS_EXPERIENCE]-&gt;(s);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Conditional conversions can be achieved with <code>CASE</code>.
You saw one example of this when we were checking for null values or empty strings, but let us look at another example.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">//set businessType property based on shortened value in CSV
LOAD CSV WITH HEADERS FROM 'file:///data.csv' AS row
WITH row,
(CASE row.BusinessType
 WHEN 'P' THEN 'Public'
 WHEN 'R' THEN 'Private'
 WHEN 'G' THEN 'Government'
 ELSE 'Other' END) AS type
MERGE (c:Company {companyId: row.CompanyId})
SET c.businessType = type
RETURN *</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_optimizing_load_csv_for_performance"><a class="anchor" href="#_optimizing_load_csv_for_performance"></a>Optimizing LOAD CSV for Performance</h3>
<div class="paragraph">
<p>Often, there are ways to improve performance during data load, which are especially helpful when dealing with large amounts of data or complex loading.</p>
</div>
<div class="paragraph">
<p>To improve inserting or updating unique entities into your graph (using <code>MERGE</code> or <code>MATCH</code> with updates), you can create indexes and constraints declared for each of the labels and properties you plan to merge or match on.</p>
</div>
<div class="openblock">
<div class="content">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For best performance, always <code>MATCH</code> and <code>MERGE</code> on a single label with the indexed primary-key property.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<p>You should also separate node and relationship creation into separate statements.
For instance, instead of the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">MERGE (e:Employee {employeeId: row.employeeId})
MERGE (c:Company {companyId: row.companyId})
MERGE (e)-[r:WORKS_FOR]-&gt;(c)</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can write it like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">LOAD CSV WITH HEADERS FROM 'file:///data.csv' AS row
MERGE (e:Employee {employeeId: row.employeeId})
RETURN count(e);

LOAD CSV WITH HEADERS FROM 'file:///data.csv' AS row
MERGE (c:Company {companyId: row.companyId})
RETURN count(c);

LOAD CSV WITH HEADERS FROM 'file:///data.csv' AS row
MATCH (e:Employee {employeeId: row.employeeId})
MATCH (c:Company {companyId: row.companyId})
MERGE (e)-[r:WORKS_FOR]-&gt;(c)
RETURN count(*);</code></pre>
</div>
</div>
<div class="paragraph">
<p>This way, the load is only doing one piece of the import at a time and can move through large amounts of data quickly and efficiently, reducing heavy processing.</p>
</div>
<div class="paragraph">
<p>When the amount of data being loaded is too much to fit into memory, there are a couple of different approaches you can use to combat running out of memory during the data load.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Batch the import into sections with <code>PERIODIC COMMIT</code>.
This clause can be added before the <code>LOAD CSV</code> clause to tell Cypher to only process so many rows of the file before clearing memory and transaction state.
For more information, see the <a href="/docs/cypher-manual/current/query-tuning/using/#query-using-periodic-commit-hint" target="_blank" rel="noopener">manual page</a> on <code>PERIODIC COMMIT</code>.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">USING PERIODIC COMMIT 500
LOAD CSV WITH HEADERS FROM 'file:///data.csv' AS row
MERGE (pet:Pet {petId: row.PetId})
MERGE (owner:Owner {ownerId: row.OwnerId})
 ON CREATE SET owner.name = row.OwnerName
MERGE (pet)-[r:OWNED_BY]-&gt;(owner)</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Avoid the EAGER operator.
Some statements pull in more rows than what is necessary, adding extra processing up front.
To avoid this, you can run <code>PROFILE</code> on your queries to see if they use EAGER loading and either modify queries or run multiple passes on the same file, so it does not do this.
More information about EAGER loading and how to avoid can be found in <a href="https://markhneedham.com/blog/2014/10/23/neo4j-cypher-avoiding-the-eager/" target="_blank" rel="noopener">Mark&#8217;s blog post</a>.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Adjust configuration for the database on heap and memory to avoid page-faults.
To help handle larger volumes of transactions, you can increase some configuration settings for the database and restart the instance for them to take effect. Usually, you can create or update 1M records in a single transaction per 2 GB of heap. In <code>neo4j.conf</code>:</p>
<div class="ulist">
<ul>
<li>
<p><code>dbms.memory.heap.initial_size</code> and <code>dbms.memory.heap.max_size</code>: set to at least 4G.</p>
</li>
<li>
<p><code>dbms.memory.pagecache.size</code>: ideally, value large enough to keep the whole database in memory.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="sect4">
<h5 id="_load_csv_resources"><a class="anchor" href="#_load_csv_resources"></a><u>LOAD CSV Resources</u></h5>
<div class="ulist">
<ul>
<li>
<p><a href="/developer/desktop-csv-import/">HowTo: Import CSV in Neo4j Desktop</a></p>
</li>
<li>
<p><a href="/docs/cypher-manual/current/clauses/load-csv/" target="_blank" rel="noopener">Cypher Manual: LOAD CSV</a></p>
</li>
<li>
<p><a href="/developer/guide-importing-data-and-etl/">Example: Import Northwind Data Set</a></p>
</li>
<li>
<p><a href="https://youtu.be/Eh_79goBRUk" target="_blank" rel="noopener">Video: LOAD CSV in the Real World</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="batch-importer"><a class="anchor" href="#batch-importer"></a>Bulk Importer For Large Datasets</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>LOAD CSV</code> is great for importing small- or medium-sized data (up to 10M records).
For data sets larger than this, we have access to a command line bulk importer.
The <code>neo4j-admin import</code> tool allows you to import CSV data to an empty database by specifying node files and relationship files.</p>
</div>
<div class="paragraph">
<p>We want to use it to import order data into Neo4j: <em>customers, orders, and ordered products</em>.</p>
</div>
<div class="paragraph">
<p>The tool is located in <code>&lt;neo4j-home&gt;/bin/neo4j-admin</code> and is used as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">bin/neo4j-admin import --id-type=STRING \
                       --nodes:Customer=customers.csv --nodes=products.csv  \
                       --nodes="orders_header.csv,orders1.csv,orders2.csv" \
                       --relationships:CONTAINS=order_details.csv \
                       --relationships:ORDERED="customer_orders_header.csv,orders1.csv,orders2.csv"</code></pre>
</div>
</div>
<div class="paragraph">
<p>The first few rows of data used for this import look like this:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. customers.csv</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">customerId:ID(Customer)</th>
<th class="tableblock halign-left valign-top">name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">23</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Delicatessen Inc</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">42</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Delicous Bakery</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. products.csv</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">productId:ID(Product)</th>
<th class="tableblock halign-left valign-top">name</th>
<th class="tableblock halign-left valign-top">price</th>
<th class="tableblock halign-left valign-top">:LABEL</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Chocolate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Product;Food</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. orders_header.csv,orders1.csv,orders2.csv</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">orderId:ID(Order)</th>
<th class="tableblock halign-left valign-top">date</th>
<th class="tableblock halign-left valign-top">total</th>
<th class="tableblock halign-left valign-top">customerId:IGNORE</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1041</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2015-05-10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">130</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">23</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1042</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2015-05-12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">42</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. order_details.csv</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">:START_ID(Order)</th>
<th class="tableblock halign-left valign-top">amount</th>
<th class="tableblock halign-left valign-top">price</th>
<th class="tableblock halign-left valign-top">:END_ID(Product)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1041</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">130</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1042</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. customer_orders_header.csv,orders1.csv,orders2.csv</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">:END_ID(Order)</th>
<th class="tableblock halign-left valign-top">date:IGNORE</th>
<th class="tableblock halign-left valign-top">total:IGNORE</th>
<th class="tableblock halign-left valign-top">:START_ID(Customer)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1041</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2015-05-10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">130</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">23</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1042</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2015-05-12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">42</p></td>
</tr>
</tbody>
</table>
<div class="openblock">
<div class="content">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you call the <code>bin/neo4j-admin import</code> without parameters it will list a comprehensive help page.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<p>The repeated <code>--nodes</code> and <code>--relationships</code> parameters are groups of multiple (potentially split) CSV files of the same entity, i.e. with the same column structure.</p>
</div>
<div class="paragraph">
<p>All files per group are treated as if they could be concatenated as a single large file.
A <strong>header row</strong> in the first file of the group or in a separate, single-line file is required.
Placing the header in a separate file can make it easier to handle and edit than having it in a multi-gigabyte text file.
Compressed files are also supported.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>--id-type=STRING</code> indicates that all <code>:ID</code> columns contain alphanumeric values (there is an optimization for numeric-only IDs).</p>
</li>
<li>
<p>The <code>customers.csv</code> is imported directly as nodes with the <code>:Customer</code> label and the properties are taken directly from the file.</p>
</li>
<li>
<p><code>Product</code> nodes follow the same pattern where the node-labels are taken from the <code>:LABEL</code> column.</p>
</li>
<li>
<p>The <code>Order</code> nodes are taken from 3 files - one header and two content files.</p>
</li>
<li>
<p>Line item relationships typed <code>:CONTAINS</code> are created from <code>order_details.csv</code>, relating orders with the contained products via their IDs.</p>
</li>
<li>
<p>Orders are connected to customers by using the order CSV files again, but this time with a different header, which :IGNORE&#8217;s the non-relevant columns.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The column names are used for property-names of your nodes and relationships.
There is specific markup on specific columns, which we will explain.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>name:ID</code> - global id column used to look up the node later reconnecting.</p>
<div class="ulist">
<ul>
<li>
<p>if the property name is left off, it will be not stored (temporary), which is what the <code>--id-type</code> refers to.</p>
</li>
<li>
<p>if you have repeated IDs across entities, you have to provide the entity (id-group) in parentheses like <code>:ID(Order)</code>.</p>
</li>
<li>
<p>if your IDs are globally unique, you can leave that off.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>:LABEL</code> - label column for nodes. Multiple labels can be separated by delimiter.</p>
</li>
<li>
<p><code>:START_ID</code>, <code>:END_ID</code> - relationship file columns referring to the node ids. For id-groups, use <code>:END_ID(Order)</code>.</p>
</li>
<li>
<p><code>:TYPE</code> - column to specify relationship-type.</p>
</li>
<li>
<p>All other columns are treated as properties but skipped if empty or annotated with <code>:IGNORE</code>.</p>
</li>
<li>
<p>Type conversion is possible by suffixing the name with indicators like <code>:INT</code>, <code>:BOOLEAN</code>, etc.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more details on this header format and the tool, see the documentation in the {opsmanual}/tools/import/[Neo4j Manual^] and the accompanying {opsmanual}/tutorial/import-tool/[tutorial^].</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="data-load-quality"><a class="anchor" href="#data-load-quality"></a>CSV Data Quality</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Real-world data is messy.
Any time you work with data, you will see some values that need cleaned up or transformed before you move it to another system.
Small syntax errors, format descriptions, consistency or correct quoting, and even differing assumptions on data requirements or standards can easily cause hours of cleanup down the road.</p>
</div>
<div class="paragraph">
<p>We will highlight some of the data quality issues easily missed when loading data from other systems into Neo4j and try to help avoid problems with data import and cleanup.</p>
</div>
<div class="sect2">
<h3 id="_common_pitfalls"><a class="anchor" href="#_common_pitfalls"></a>Common Pitfalls</h3>
<div class="paragraph">
<p><strong>Headers are inconsistent with data (missing, too many columns, different delimiter in header)</strong>
Verify headers match the data in the file.
Adjusting formatting, delimiters, columns, etc. at this stage will save a great deal of time later.</p>
</div>
<div class="paragraph">
<p><strong>Extra or missing quotes throughout file</strong>
Standalone double or single quotes in the middle of non-quoted text or non-escaped quotes in quoted text can cause issues reading the file for loading.
It is best to either escape or remove stray quotes.
Documentation for proper escaping is in the <a href="/developer/cypher-style-guide/#cypher-metacharacters">Cypher style guide</a> and a <a href="/developer/kb/parsing-of-quotes-for-load-csv-and-or-import/" target="_blank" rel="noopener">knowledgebase article</a>.</p>
</div>
<div class="paragraph">
<p><strong>Special or Newline characters in file</strong>
When dealing with any special characters in a file, ensure they are quoted or remove them.
For newline characters in quoted or unquoted fields, either add quotes for these or remove them.</p>
</div>
<div class="paragraph">
<p><strong>Inconsistent line breaks</strong>
One thing that computers do not handle well is inconsistent data.
Ensure line breaks are consistent throughout.
We recommend choosing the Unix style for compatibility with Linux systems (common format for import tools).</p>
</div>
<div class="paragraph">
<p><strong>Binary zeros, BOM byte order mark (2 UTF-8 bytes) at beginning of file, or other non-text characters</strong>
Any unusual characters or tool-specific formatting (Excel or Word) are sometimes hidden in application tools, but become easily apparent in basic editors.
If you come across these types of characters in your file, it is best to remove them entirely.</p>
</div>
</div>
<div class="sect2">
<h3 id="_tools"><a class="anchor" href="#_tools"></a>Tools</h3>
<div class="paragraph">
<p>As mentioned above, certain applications have special formatting to make documents look nice, but this hidden extra code is not handled by regular file readers and scripts.
Other times, it is hard to find small syntax changes or make broad adjustments for files with a lot of data.</p>
</div>
<div class="paragraph">
<p>For handling these types of situations or general data cleanup, there are a number of tools that help you check and validate your CSV data files.</p>
</div>
<div class="paragraph">
<p>Basic tools, such as hexdump, vi, emacs, UltraEdit, and Notepad++ work well for handling shortcut-based commands for editing and manipulating files.
However, there are also other more efficient or user-friendly options available that assist in data cleanup and formatting.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://csvkit.readthedocs.io/en/latest/" target="_blank" rel="noopener">CSVKit</a> - a set of Python tools that provides statistics (csvstat), search (csvgrep), and more for your CSV files.</p>
</li>
<li>
<p><a href="http://csvlint.io/" target="_blank" rel="noopener">CSVLint</a> - an online service to validate CSV files.
You can upload the file or provide an URL to load it.</p>
</li>
<li>
<p><a href="https://www.papaparse.com/" target="_blank" rel="noopener">Papa Parse</a> - a comprehensive Javascript library for CSV parsing that allows you to stream CSV data and provides good, human-readable error reporting on issues.</p>
</li>
<li>
<p><a href="/developer/desktop-csv-import/#inspect-files">Cypher</a> - what Cypher sees is what will be imported, so you can use that to your advantage.
Using <code>LOAD CSV</code> without creating graph structure will just output samples, counts, or distributions to make it possible to detect incorrect header column counts, delimiters, quotes, escapes, or header name spellings.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">// assert correct line count
LOAD CSV FROM "file-url" AS line
RETURN count(*);

// check first 5 line-sample with header-mapping
LOAD CSV WITH HEADERS FROM "file-url" AS line
RETURN line
LIMIT 5;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="import-csv-resources"><a class="anchor" href="#import-csv-resources"></a>CSV Import Resources</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>{opsmanual}/tools/import/[Manual: Import Tool^]</p>
</li>
<li>
<p>{opsmanual}/tutorial/import-tool/[Manual: Import Tool Tutorial^]</p>
</li>
<li>
<p><a href="/developer/kb/?tag=load-csv" target="_blank" rel="noopener">Knowledgebase Articles: LOAD CSV</a></p>
</li>
<li>
<p><a href="https://github.com/neo4j-contrib/northwind-neo4j" target="_blank" rel="noopener">GitHub project: Northwind CSV files</a></p>
</li>
</ul>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <p>We need a generic footer here...</p>
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
